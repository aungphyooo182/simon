<app-popup
  *ngIf="finishedLoop && supportOrientation && showWinnerText"
  [popup]="winnerPopup"
  (btnPopupClicked)="clickedWinnerPopup($event)"
></app-popup>

<app-popup
  *ngIf="showHowToPlay"
  [popup]="howToPlayPopup"
  (btnPopupClicked)="clickedhowToPlayPopup($event)"
></app-popup>

<app-popup
  *ngIf="showErrorText"
  [popup]="wrongGuessPopup"
  (btnPopupClicked)="clickedwrongGuessPopup($event)"
></app-popup>

<app-popup
  *ngIf="showLeaderboard"
  [popup]="leaderboardPopup"
  [isTop]="true"
  (btnPopupClicked)="clickedleaderboardPopup($event)"
></app-popup>

<div
  class="blur-container"
  *ngIf="!finishedLoop && supportOrientation && !showWinnerText && startGame"
></div>

<app-header
  [username]="userInfo?.username"
  [showProfileBox]="showProfileBox"
  [saveLoading]="saveLoading"
  [leaderLoading]="leaderLoading"
  [sound]="sound"
  [item]="headerItem"
  [index]="headerIndex"
  (outputLeaderboard)="leaderboard()"
  (outputSave)="saveGame()"
  (outputHowToPlay)="howToPlay()"
  (outputProfileBox)="showProfile()"
  (outputSound)="soundChange($event)"
></app-header>

<div class="wrapper">
  <div class="container error-container" *ngIf="!supportOrientation">
    <app-text [class]="'body-text'">{{ unsupportText }}</app-text>
  </div>

  <div class="container" *ngIf="supportOrientation">
    <div class="flex center" style="height: 100px; flex-direction: column">
      <app-text
        *ngIf="startGame"
        [class]="'player-clicked'"
        [ngClass]="{
          show: startGame && finishedLoop,
          hide: startGame && !finishedLoop
        }"
        >You have to guess {{ level }} times.</app-text
      >
      <app-text [class]="'howtoplay'" (click)="howToPlay()"
        >How to play?</app-text
      >
      <app-button
        *ngIf="!startGame"
        [class]="'popup-btn1'"
        (click)="startGameClicked()"
        >Start Game</app-button
      >
    </div>
    <app-simon-button (guess)="playerGuess($event)"></app-simon-button>
    <div *ngIf="showDebug">
      <app-text *ngFor="let data of simonArray">{{ data }}</app-text>
    </div>
  </div>
</div>
